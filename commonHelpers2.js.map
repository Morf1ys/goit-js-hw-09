{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formRef = document.querySelector('form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {};\n\nformRef.addEventListener('submit', onFormSubmit);\nformRef.addEventListener('input', throttle(onFormInput, 500));\n\npopulateInputForm();\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  formData.email = formRef.email.value;\n  formData.message = formRef.message.value;\n\n  if (formData.email === '' || formData.message === '') {\n    return;\n  }\n\n  localStorage.removeItem(STORAGE_KEY);\n  e.currentTarget.reset();\n\n  console.log(formData);\n}\n\nfunction onFormInput() {\n  formData.email = formRef.email.value;\n  formData.message = formRef.message.value;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateInputForm() {\n  const saveTextInput = localStorage.getItem(STORAGE_KEY);\n\n  if (saveTextInput) {\n    const storageKey = JSON.parse(saveTextInput);\n\n    formRef.email.value = storageKey.email;\n    formRef.message.value = storageKey.message;\n  }\n}\n"],"names":["formRef","STORAGE_KEY","formData","onFormSubmit","throttle","onFormInput","populateInputForm","e","saveTextInput","storageKey"],"mappings":"oFAEA,MAAMA,EAAU,SAAS,cAAc,MAAM,EAEvCC,EAAc,sBAEdC,EAAW,CAAA,EAEjBF,EAAQ,iBAAiB,SAAUG,CAAY,EAC/CH,EAAQ,iBAAiB,QAASI,EAASC,EAAa,GAAG,CAAC,EAE5DC,IAEA,SAASH,EAAaI,EAAG,CACvBA,EAAE,eAAc,EAEhBL,EAAS,MAAQF,EAAQ,MAAM,MAC/BE,EAAS,QAAUF,EAAQ,QAAQ,MAE/B,EAAAE,EAAS,QAAU,IAAMA,EAAS,UAAY,MAIlD,aAAa,WAAWD,CAAW,EACnCM,EAAE,cAAc,QAEhB,QAAQ,IAAIL,CAAQ,EACtB,CAEA,SAASG,GAAc,CACrBH,EAAS,MAAQF,EAAQ,MAAM,MAC/BE,EAAS,QAAUF,EAAQ,QAAQ,MAEnC,aAAa,QAAQC,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEA,SAASI,GAAoB,CAC3B,MAAME,EAAgB,aAAa,QAAQP,CAAW,EAEtD,GAAIO,EAAe,CACjB,MAAMC,EAAa,KAAK,MAAMD,CAAa,EAE3CR,EAAQ,MAAM,MAAQS,EAAW,MACjCT,EAAQ,QAAQ,MAAQS,EAAW,OACpC,CACH"}